<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" href="
  https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/atom-one-dark.min.css  
  ">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Getting started with the TM4C Launchpad on Linux &middot; Shawn D'silva
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


  <!-- Icons -->
  <link rel="logo" sizes="512x512" href="/public/logo.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <div class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      <h1>
          Shawn D'silva
      </h1>
      <p class="lead">Embedded software developer and Tinkerer</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
      
        
          
        
      


      <a class="sidebar-nav-item fa fa-github"  style="font-size:30px" href="https://github.com/shawn-dsilva"> &nbsp;</a>

     <a class="sidebar-nav-item fa fa-twitter"  style="font-size:30px" href="https://twitter.com/Shade978"> &nbsp;  </a>

    <a class="sidebar-nav-item fa fa-envelope-o"  style="font-size:30px" href="mailto:shawn.dsilva_97@protonmail.com"> &nbsp; </a>


      <p>

          <br>
          &copy; 2018 Shawn D'silva,All Rights Reserved</p>

    </nav>

  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">Getting started with the TM4C Launchpad on Linux</h1>
  <span class="post-date">17 Oct 2018</span>
  <p>This is a guide to getting up-and-running to develop firmware for the <strong>TM4C123GH6PM</strong> evaluation board from Texas Instruments on a Linux based system.</p>

<p>The TM4C was my first microcontroller,and i found it very uninteresting to use a bulky IDE like Keil or IAR EWARM that abstracts so much from me,I checked various blog posts about using <strong>GCC</strong> and <strong>Make</strong> to develop firmware for this board,but the instructions were always outdated.</p>

<p>The steps here are tested on an <strong>Ubuntu 18.04 LTS</strong> system,but should work on any other Linux based system</p>

<p><a href="https://shawn-dsilva.github.io/2018/10/17/Getting-Started-with-TM4C-Launchpad-On-Linux/"><strong>Click here to see full post</strong></a></p>

<!--more-->

<p><strong>To start writing firmware for the TM4C we need:</strong></p>

<ul>
  <li>
    <p>A text editor like vim or vscode whatever is your preference</p>
  </li>
  <li>
    <p>A compiler/assembler/linker package like <code class="highlighter-rouge">gcc-arm-none-eabi</code></p>
  </li>
  <li>
    <p>Files specific to this board like a linker script <code class="highlighter-rouge">*.ld</code> file and a <code class="highlighter-rouge">startup.c</code> file</p>
  </li>
  <li>
    <p>A <code class="highlighter-rouge">Makefile</code></p>
  </li>
  <li>
    <p>A flasher program,I use <code class="highlighter-rouge">lm4flash</code> in this guide,although OpenOCD may also be used</p>
  </li>
</ul>

<h2 id="toolchain-installation">Toolchain installation</h2>

<p><strong>1</strong>.First we install the dependencies needed by our tool chain</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt install flex bison libgmp3-dev libmpfr-dev libncurses5-dev libmpc-dev autoconf texinfo build-essential libftdi-dev python-yaml zlib1g-dev libusb-1.0-0-dev
</code></pre></div></div>
<p><strong>2</strong>. Then we install the <strong>GCC for ARM</strong> package</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt install gcc-arm-none-eabi
</code></pre></div></div>

<p><strong>3</strong>. And finally the <code class="highlighter-rouge">lm4flash</code> flashing tool</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/utzig/lm4tools.git
<span class="nb">cd </span>lm4tools/lm4flash
make
<span class="nb">sudo </span>cp lm4flash /usr/bin/
</code></pre></div></div>
<p><strong>4</strong>. Next, create a file called <code class="highlighter-rouge">61.dialout.rules</code> in <code class="highlighter-rouge">/etc/udev/rules.d</code>
    with this line inside it <code class="highlighter-rouge">SUBSYSTEM=="usb", ATTRS{idVendor}=="1cbe",
    ATTRS{idProduct}=="00fd", MODE="0666"</code>  This is to allow any program to read or write to your TM4C 		  Launchpad board,i.e you will not have
    to use <code class="highlighter-rouge">sudo</code> every time.
    Now restart your PC</p>

<h2 id="building-and-flashing-a-basic-blinkyc-program-to-the-board">Building and flashing a basic Blinky.c program to the board</h2>

<p>I have already created a template for the TM4C,you just have to clone it from GitHub</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/shawn-dsilva/tm4c-linux-template.git
</code></pre></div></div>
<p>This template contains a skeleton directory of folders,a <code class="highlighter-rouge">blinky.c</code> file,a <code class="highlighter-rouge">startup.c</code> file and a linker script for the TM4C</p>

<p>Once cloned,<code class="highlighter-rouge">cd</code> into <code class="highlighter-rouge">tm4c-linux-template</code> and run <code class="highlighter-rouge">make</code></p>

<p>you can change the name of the final binary by setting the <code class="highlighter-rouge">PROJECT</code> variable in the <code class="highlighter-rouge">Makefile</code> to whatever name you want to use,by default <code class="highlighter-rouge">PROJECT = main</code></p>

<p>once you run <code class="highlighter-rouge">make</code> this will be the directory structure:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>├── bin
│   ├── main.bin
│   └── main.elf
├── inc
│   └── startup.h
├── ld
│   └── TM4C123GH6PM.ld
├── libs
│   └── startup.c
├── Makefile
├── obj
│   ├── main.d
│   ├── main.o
│   ├── startup.d
│   └── startup.o
├── README.md
└── src
    └── main.c
</code></pre></div></div>
<p><strong>Here,</strong></p>
<ul>
  <li><code class="highlighter-rouge">src</code> contains your Source files,i.e <code class="highlighter-rouge">main.c</code></li>
  <li><code class="highlighter-rouge">libs</code> contains your library source files,i.e <code class="highlighter-rouge">startup.c</code>,that are used by the main program</li>
  <li><code class="highlighter-rouge">inc</code> contains your <code class="highlighter-rouge">*.h</code> Header files,like <code class="highlighter-rouge">startup.h</code></li>
  <li><code class="highlighter-rouge">obj</code> contains the <code class="highlighter-rouge">*.o</code> object files and <code class="highlighter-rouge">*.d</code> dependency files</li>
  <li><code class="highlighter-rouge">bin</code> contains an ELF executable <code class="highlighter-rouge">main.elf</code>,this contains debugging symbols used by  the <code class="highlighter-rouge">gdb</code> debugger,and <code class="highlighter-rouge">main.bin</code>,the final binary that is stripped off the debugging symbols and will be flashed to your board</li>
</ul>

<p>Run <code class="highlighter-rouge">make flash</code> to invoke <code class="highlighter-rouge">lm4flash</code> and burn your <code class="highlighter-rouge">main.bin</code> binary to the board,press the RESET button on your board,and hold SW1 to cause the red LED on board to blink as long as it is pressed</p>

<p>Additional library and driver files for this board can be acquired by downloading the <code class="highlighter-rouge">SW-TM4C-2.1.4.178.exe</code> package from this 
<a href="http://software-dl.ti.com/tiva-c/SW-TM4C/latest/index_FDS.html">TI Website here</a></p>


</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2018/10/28/Writing-the-Startup-code-and-Linker-Script-for-the-TM4C-from-scratch/">
            Writing the Startup code and Linker Script for the TM4C from scratch
            <small>28 Oct 2018</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

    </div>

  </body>
</html>
